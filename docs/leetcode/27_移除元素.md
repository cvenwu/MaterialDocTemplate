


```
// 思路：双指针，左边的指针指向第一个值等于val的元素下标，右边的指针表示要将val元素放置的位置，两个相等则退出
func removeElement(nums []int, val int) int {
    l, r := 0, len(nums) - 1
    for l <= r {
        if nums[l] != val {
            l++
            continue
        }

        // 此时l指向的位置元素的值一等等于val
        // 将第一个等于val元素的值移动到最右边应该放置的位置，同时最右边应该放置的位置左移来避免万一两个都相等就陷入死循环
        nums[l], nums[r], r = nums[r], nums[l], r - 1
    }
    // 最后返回的时候 nums[l]一定是不等于val的，因为上面的循环两个退出情况：第一个是nums[l] != val导致l+1然后退出循环，另外一种是nums[l]==val，交换元素位置之后，导致r=r-1然后退出循环，但是此时
    return l
}
```